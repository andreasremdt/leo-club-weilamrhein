---
import { CATEGORIES } from "@/lib/utils";
---

<select
  data-action="category-selector"
  aria-label="eintrage nach kategorie filtern"
  class="box mb-4 w-full p-4 outline-none focus-visible:text-primary-900 focus-visible:ring-4 focus-visible:ring-primary-900/20 md:mb-8 dark:focus-visible:text-primary-200 dark:focus-visible:ring-primary-200/20"
>
  <option value="" selected disabled>Eintr√§ge nach Kategorie filtern</option>
  <option value="/aktionen/">Alle Aktionen</option>
  {
    CATEGORIES.map((category) => (
      <option value={category.slug}>{category.title}</option>
    ))
  }
</select>

<script>
  let select = document.querySelector<HTMLSelectElement>(
    '[data-action="category-selector"]',
  );

  if (select) {
    select.onchange = (event: Event) => {
      location.href = (event.target as HTMLSelectElement).value;
    };
  }
</script>
