---
import Title from "@/components/title.astro";
import SocialLinks from "@/components/social-links.astro";
import LatestPosts from "@/components/latest-posts.astro";
import Button from "@/components/button.astro";
import Box from "@/components/box.astro";
import Link from "@/components/link.astro";
import { CATEGORIES } from "@/lib/helpers";
---

<aside class="sidebar">
  <Box class="centered" variant="small">
    <Title as="h2">Über Uns</Title>

    <p>
      Wir sind Jugendliche und Erwachsene und engagieren uns für das Wohl von
      benachteiligten Menschen, etwa aus Kinder- oder Pflegeheimen.
    </p>

    <Button href="/ueber-uns/">Erfahre mehr</Button>
  </Box>

  <Box class="centered" variant="small">
    <Title as="h2">Netzwerke</Title>

    <p>
      Folge uns in den sozialen Netzwerken, um keine Neuigkeiten zu verpassen!
    </p>

    <SocialLinks class="social" />
  </Box>

  <Box variant="small">
    <Title as="h2">Aktuelles</Title>

    <LatestPosts />
  </Box>

  <Box variant="small">
    <Title as="h2">Kategorien</Title>

    <ul class="categories">
      {
        CATEGORIES.map((category) => (
          <li>
            <Link class="link" href={category.slug}>
              <svg
                viewBox="0 0 24 24"
                width="18"
                height="18"
                aria-hidden="true"
              >
                <path
                  fill="currentColor"
                  d="M21.297 14.117c0.583-0.586 0.874-1.352 0.874-2.115 0.001-0.764-0.29-1.532-0.874-2.12l-8.59-8.59c-0.181-0.18-0.431-0.292-0.707-0.292h-10c-0.552 0-1 0.448-1 1v10c0 0.256 0.098 0.512 0.293 0.708l8.592 8.582c0.586 0.585 1.356 0.878 2.122 0.877s1.536-0.294 2.12-0.879zM19.883 12.703l-7.17 7.17c-0.196 0.196-0.45 0.294-0.707 0.294s-0.512-0.097-0.707-0.292l-8.299-8.29v-8.585h8.586l8.297 8.297c0.192 0.193 0.289 0.447 0.289 0.704s-0.097 0.509-0.289 0.702zM7 8c0.552 0 1-0.448 1-1s-0.448-1-1-1-1 0.448-1 1 0.448 1 1 1z"
                />
              </svg>
              {category.title}
            </Link>
          </li>
        ))
      }
    </ul>
  </Box>
</aside>

<style>
  .sidebar {
    position: sticky;
    top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .social {
    margin-top: 1rem;
    justify-content: center;
  }

  .link {
    transition: color 0.1s linear;
    display: flex;
    column-gap: 0.5rem;
    align-items: center;
  }

  .link:where(:hover, :focus-visible, .active) {
    color: hsl(var(--clr-primary));
  }

  .button {
    margin-top: 1rem;
  }

  .categories {
    list-style-type: none;
    padding-left: unset;
  }

  @media (max-width: 62.5rem) {
    .sidebar {
      margin-top: 1.5rem;
    }
  }
</style>
