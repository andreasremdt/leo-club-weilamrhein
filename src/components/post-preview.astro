---
import { formatDate, getCategoryFromUrl } from "@/lib/helpers";
import Image from "@/components/image.astro";
import Box from "@/components/box.astro";
import Button from "@/components/button.astro";

export interface Props {
  title: string;
  url: string;
  excerpt: string;
  date: string;
  thumbnail?: string;
}

const { title, url, excerpt, date, thumbnail } = Astro.props;
---

<article class="box mb-8 flex gap-x-4 p-0">
  {
    thumbnail && (
      <figure class="aspect-square w-1/3 flex-shrink-0">
        <Image
          src={thumbnail}
          category="kinder"
          width={300}
          height={300}
          alt={title}
          bordered
          class="h-full w-full object-cover object-center"
        />
      </figure>
    )
  }

  <div class="p-4">
    <h2 class="h2">
      <a
        class="transition-colors hover:text-yellow-600"
        href={`/aktionen/${url}`}>{title}</a
      >
    </h2>

    <time datetime={date}>
      Ver√∂ffentlicht am {formatDate(date)}
    </time>

    <p class="my-4">{excerpt}...</p>

    <a class="btn btn-primary" href={url}>Weiterlesen</a>
  </div>
</article>
